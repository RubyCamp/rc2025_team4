<%= form_with model: [:admin, @onsen], local: true do |form| %>
  <% if onsen.errors.any? %>
    <div id="error_explanation" class="bg-red-50 text-red-500 px-3 py-2 font-medium rounded-md mt-3">
      <h2><%= pluralize(onsen.errors.count, "件のエラー") %>があります:</h2>
      <ul class="list-disc ml-6">
        <% onsen.errors.each do |error| %>
          <li><%= error.full_message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>
  <div>
    <%= form.label :name, '名称', class: 'block font-semibold mb-1' %>
    <%= form.text_field :name, class: "block shadow-sm rounded-md border px-3 py-2 w-full border-gray-300 focus:outline-blue-600" %>
  </div>
  <%= form.label :address, '住所', class: 'block font-semibold mb-1' %>
  <%= form.text_field :address, class: "block shadow-sm rounded-md border px-3 py-2 w-full border-gray-300 focus:outline-blue-600" %>
  <div>
    <%= form.label :sales_s,  '始業時間', class: 'block font-semibold mb-1' %>
    <%= form.text_field :sales_s, class: "block shadow-sm rouded-md border px-3 py-2 w-full border-gray-300 focus:outline-blue-600" %>
  </div>
  <div>
    <%= form.label :sales_f,  '終業時間', class: 'block font-semibold mb-1' %>
    <%= form.text_field :sales_f, class: "block shadow-sm rouded-md border px-3 py-2 w-full border-gray-300 focus:outline-blue-600" %>
  </div>
  <div>
    <%= form.label :holiday,  '定休日(カンマ区切り)', class: 'block font-semibold mb-1' %>
    <%= form.text_field :holiday, class: "block shadow-sm rouded-md border px-3 py-2 w-full border-gray-300 focus:outline-blue-600" %>
  </div>
  <div>
    <%= form.label :description, '説明', class: 'block font-semibold mb-1' %>
    <%= form.text_area :description, rows: 4, class: "block shadow-sm rounded-md border px-3 py-2 w-full border-gray-300 focus:outline-blue-600" %>
  </div>
  <div>
    <%= form.label :tags, 'タグ（カンマ区切り）', class: 'block font-semibold mb-1' %>
    <%= form.text_field :tags, class: "block shadow-sm rounded-md border px-3 py-2 w-full border-gray-300 focus:outline-blue-600" %>
  </div>
  <div>
    <%= form.label :price, '価格帯（円）', class: 'block font-semibold mb-1' %>
    <%= form.number_field :price, min: 1, step: 1, class: "block shadow-sm rounded-md border px-3 py-2 w-full border-gray-300 focus:outline-blue-600", placeholder: "例 1500" %>
  </div>
  <div>
    <%= form.label :url, 'リンク（公式サイト）', class: 'block font-semibold mb-1' %>
    <%= form.text_field :url, class: "block shadow-sm rounded-md border px-3 py-2 w-full border-gray-300 focus:outline-blue-600", placeholder: "任意" %>
  </div>
  <div>
    <%= form.label :images, '画像（最大5枚・JPEG/PNG/GIF）', class: 'block font-semibold mb-1' %>
    <%= form.file_field :images, multiple: true, accept: 'image/jpeg,image/png,image/gif', class: "block border rounded px-2 py-1 w-full" %>
    <% if onsen.images.attached? %>
      <div class="flex flex-wrap gap-2 mt-2">
        <% onsen.images.each_with_index do |img, idx| %>
          <div class="relative group">
            <%= image_tag img.variant(resize_to_limit: [100,100]), class: "rounded shadow border w-24 h-24 object-cover", alt: onsen.name %>
            <label class="block text-xs text-center mt-1">
              <%= check_box_tag "onsen[remove_image_ids][]", img.id, false %> 削除
            </label>
          </div>
        <% end %>
      </div>
    <% end %>
  </div>
  <div class="flex flex-col sm:flex-row gap-2">
    <%= form.submit class: "rounded-md px-4 py-2 bg-blue-600 hover:bg-blue-500 text-white font-semibold w-full sm:w-auto" %>
  </div>
<% end %>
